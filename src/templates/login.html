<!-- templates/login.html -->

{% extends "base.html" %}

{% block script_content %}
    <script>
    function sendLogin() {
        const requestJson = Object();
        requestJson["nickname"] = document.getElementById("nickname").value.trim();
        requestJson["password"] = document.getElementById("password").value;
        requestJson["remember"] = document.getElementById("password").value;
        Promise.all([
            sendRequest("POST", "/login", requestJson)
        ]).then(function (values) {
            redirectToPage();
        }).catch(function (reason) {
            window.alert(reason);
        });
    }
    </script>
{% endblock %}

{% block content %}
<div class="column is-4 is-offset-4">
    <h3 class="title">Login</h3>
    <div class="box">
        <form>
            <div class="field">
                <div class="control">
                    <input id="nickname" class="input is-large" type="text" placeholder="Nickname" autofocus="">
                </div>
            </div>

            <div class="field">
                <div class="control">
                    <input id="password" class="input is-large" type="password" placeholder="Your Password">
                </div>
            </div>
            <div class="field">
                <label class="checkbox">
                    <input type="checkbox" id="remember">
                    Remember me
                </label>
            </div>
        </form>
        <button class="button is-block is-info is-large is-fullwidth" onclick="sendLogin()">Login</button>
    </div>
</div>
{% endblock %}